import{_ as h}from"./lodash.42ad4b6f.js";import{_ as p,j as g,c as a,b as t,a as x,w as f,t as n,I as b,J as y,F as v,g as w,r as R,o as c,n as S,p as k,e as C}from"./index.44031dca.js";import{_ as L}from"./Asset_2.286d657d.js";const B={data(){return{search:"",testResults:[],allresult:[],results:[],user:JSON.parse(localStorage.getItem("biomission"))}},methods:{modeltestResults(){g("allexams",this.$route.params.id).then(e=>{this.url="https://script.google.com/macros/s/AKfycbxHZMx1M1oGvp-wPb7mHwQrfkDBpkS3BG0WtciUJ_HHJTswLgJ2Ba4f8XBLNHOkjYEERQ/exec?sheet="+e.exam.question.substr(39,44),fetch(this.url).then(s=>s.json()).then(s=>{let i=s;this.testResults=h.sortBy(i.map(r=>({...r,attempt:r.attempt||1})),[r=>-r.score,"duration"]).map((r,l)=>({position:l+1,...r})),this.allresult=this.testResults})})},millisToMinutesAndSeconds(e){var s=Math.floor(e/6e4),i=(e%6e4/1e3).toFixed(0);return s+":"+(i<10?"0":"")+i},searchResult(){this.testResults=this.allresult.filter(e=>{if(e.name.toLowerCase().includes(this.search.toLowerCase())||e.college.toLowerCase().includes(this.search.toLowerCase()))return e})},getStyle(e){return e==1?"success":e==2?"orange darken-2":e==3?"indigo":""},getborderStyle(e){let s={1:"s singleResult mb-2",2:"f singleResult mb-2",3:"d singleResult mb-2"};return s[e]?s[e]:"singleResult mb-2"}},created(){this.modeltestResults(),window.scrollTo(0,0)}},u=e=>(k("data-v-75fccbc6"),e=e(),C(),e),M={class:"leaderboard min-h-screen"},I={class:"text-center py-5"},j=u(()=>t("img",{src:L,alt:"",class:"mb-3 h-10 mx-auto"},null,-1)),H=u(()=>t("h1",{class:"text-center text-3xl text-white"},"Cycle",-1)),J={class:"my-4 text-3xl font-bold text-center text-gray-900 dark:text-white"},N={class:"p-5 mx-1 rounded md:w-1/2 md:mx-auto bg-gray-50"},T={class:"form-control"},D={class:"mt-4"},A={key:0},E=["id"],F={class:"flex items-center justify-center w-10 h-10 font-semibold text-white rounded-full bg-gradient-to-t from-indigo-400 to-indigo-600"},Q={class:"flex-1 ml-2 text-gray-900 md:ml-4"},V={class:"text-lg font-semibold"},G={class:"text-sm text-gray-500"},K={class:"p-2 text-gray-900 border-2 border-blue-400"},O={key:1,class:"text-center"},U=u(()=>t("button",{class:"btn loader btn-primary"},"Loading...",-1)),q=[U];function z(e,s,i,r,l,d){const m=R("router-link");return c(),a("div",M,[t("div",I,[x(m,{to:"/",class:"text-center text-3xl text-white"},{default:f(()=>[j]),_:1}),H]),t("div",null,[t("h1",J,"MCQ Leaderboard-"+n(this.$route.params.id),1),t("div",N,[t("div",T,[b(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>l.search=o),placeholder:"Search by Name/College",onKeyup:s[1]||(s[1]=(...o)=>d.searchResult&&d.searchResult(...o)),class:"input input-primary input-bordered"},null,544),[[y,l.search]])]),t("div",D,[l.allresult.length>0?(c(),a("div",A,[(c(!0),a(v,null,w(l.testResults,(o,_)=>(c(),a("div",{key:_,id:o.reg,class:S(`${d.getborderStyle(o.position)} flex justify-between items-center p-5   rounded  shadow-md ${o.reg==l.user.roll?"bg-green-200":""}`),style:{"scroll-margin":"100px"}},[t("span",F,n(o.position),1),t("div",Q,[t("h2",V,n(o.name),1),t("p",null,n(o.college),1),t("p",G," Duration: "+n(d.millisToMinutesAndSeconds(o.duration))+" minutes ",1)]),t("div",K,n(o.score),1)],10,E))),128))])):(c(),a("div",O,q))])])])])}const Y=p(B,[["render",z],["__scopeId","data-v-75fccbc6"]]);export{Y as default};
