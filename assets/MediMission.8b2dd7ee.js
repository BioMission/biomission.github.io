import{_ as R}from"./Asset_2.286d657d.js";import{_ as E}from"./lodash.d81f4bf9.js";import{T as k}from"./Timer.5e6fed4f.js";import{i,j as B,c as o,b as t,a as l,w as r,F as $,g as T,k as C,u as _,r as Q,o as s,t as n,n as A,h as y,f as h,l as F,m as I}from"./index.88b53a1e.js";import{f as U,N as z,o as S,V as O,U as P}from"./transition.5bfbb0d2.js";const G={class:"min-h-screen"},W={class:"text-center py-5"},H=t("img",{src:R,alt:"",class:"mb-3 h-10 mx-auto"},null,-1),J=t("h1",{class:"text-center text-3xl text-white"},"MEDI MISSION",-1),K={key:0,class:"container py-5 mx-auto"},X={key:0,class:"max-w-2xl mx-auto space-y-3"},Y={class:"text-xl font-bold text-gray-800"},Z={class:"text-xl font-bold text-gray-800"},ee={key:0,class:"text-lg font-bold text-gray-800"},te={class:"font-semibold text-gray-600"},se={class:"font-semibold text-gray-600"},ae={class:"font-semibold text-gray-600"},oe={class:"py-3"},ne={key:0,class:"flex flex-col justify-center space-x-2"},ie=t("p",{class:"text-sm font-semibold text-center"}," Exam Start Time Remaining",-1),le={key:1,class:"flex flex-col justify-center space-x-2"},re=t("p",{class:"text-sm font-semibold text-center text-gray-800"}," Exam End Time Remaining",-1),de={key:2,class:"flex flex-col justify-center space-x-2"},ce=t("p",{class:"text-sm font-semibold text-center"}," Class Time Remaining",-1),ue={class:"space-x-4 space-y-2 sm:space-y-0"},me=["onClick"],xe=h(" Solve "),_e=h(" Leaderboard "),fe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 mt-5"},ge={class:"text-xl font-bold text-gray-800"},pe={class:"text-lg font-bold text-gray-800"},he={class:"font-semibold text-gray-600"},ye={class:"font-semibold text-gray-600"},be=t("p",{class:"font-semibold text-gray-700"},"Class",-1),ve={class:"font-semibold text-gray-600"},we=t("p",{class:"font-semibold text-gray-700"},"Exam",-1),ke={class:"font-semibold text-gray-600"},Ce={class:"font-semibold text-gray-600"},je={class:"flex flex-wrap items-center justify-center gap-3"},De=["onClick"],Ee=h(" Solve "),$e=h(" Leaderboard "),Te={key:1,class:"py-10 text-center"},Se=t("button",{class:"btn btn-circle loading btn-xl"},null,-1),qe=t("p",{class:"dark:text-white"},"Please wait...",-1),Ne=[Se,qe],Me={key:2},Le=t("div",{class:"flex flex-col items-center justify-center"},[t("div",{class:"text-center"},[t("h1",{class:"text-3xl text-gray-500"},"No Class"),t("p",{class:"text-gray-500"},"No Class is available for this course")])],-1),Ve=[Le],Re={class:"fixed inset-0 z-10 overflow-y-auto"},Be={class:"min-h-screen px-4 text-center bg-[rgba(0,0,0,0.6)]"},Qe=t("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),Ae={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},Fe={class:"mt-2"},Ie={class:"text-sm text-gray-500"},He={__name:"MediMission",setup(Ue){i(!1);const q=i([]),N=i([]);i(""),i(""),i("");const M=i({}),f=i({show:!1,title:"",message:""}),L=F(),j=(c,a)=>{L.push(`mission/exam/${c}?q=${a}`)};function m(c){f.value={show:!0,title:`${c} will be available soon`,message:`We are working on ${c}. Please check back later.`}}function D(){f.value={show:!1,title:"",message:""}}const x=i([]),g=i([]),b=i([]);I();const v=i(!0);B("medimission").then(c=>{x.value=c.routines.filter(a=>a.chapter),g.value.length<3&&x.value.forEach(a=>{new Date(a.end_time).getTime()>=Date.now()&&g.value.length<2&&g.value.push({...a,date:new Date(a.date_time).getTime()})}),x.value.reverse(),q.value=new Set(x.value.map(a=>a.subject)),V(),v.value=!1});const V=()=>{b.value=E.filter(x.value,E.conforms(M.value)),N.value=new Set(b.value.map(c=>c.chapter))},d=i(Date.now());return(c,a)=>{const p=Q("router-link");return s(),o("div",G,[t("div",W,[l(p,{to:"/",class:"text-center text-3xl text-white"},{default:r(()=>[H]),_:1}),J]),x.value.length>0&&!v.value?(s(),o("div",K,[g.value.length>0?(s(),o("div",X,[(s(!0),o($,null,T(g.value,(e,w)=>(s(),o("div",{class:"p-5 space-y-1 text-center border border-dashed shadow dark:bg-white rounded-xl bg-gray-50",key:w},[t("h1",{class:A(["text-2xl font-semibold text-center",{"text-red-500 animate-pulse":e.live_class,"text-green-500":!e.live_class}])},n(e.live_class?"On going...":"Upcoming Class"),3),t("h2",Y,n(e.subject),1),t("h2",Z,n(e.chapter),1),e.topic?(s(),o("h2",ee,n(e.topic),1)):C("",!0),t("p",te,"Exam Start: "+n(e.start_time),1),t("p",se,"Exam End: "+n(e.end_time),1),t("p",ae,n(e.instructor),1),t("div",oe,[new Date(e.start_time).getTime()>d.value?(s(),o("div",ne,[ie,l(k,{end:new Date(e.start_time)},null,8,["end"])])):new Date(e.end_time)>new Date(d.value)?(s(),o("div",le,[re,l(k,{end:new Date(e.end_time)},null,8,["end"])])):new Date(e.date_time)>new Date(d.value)?(s(),o("div",de,[ce,l(k,{end:new Date(e.date_time)},null,8,["end"])])):C("",!0)]),t("div",ue,[new Date(e.start_time).getTime()<d.value?(s(),o("button",{key:0,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:u=>j(e.id,e.question.substr(39,44))}," Exam ",8,me)):(s(),o("button",{key:1,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[0]||(a[0]=u=>m("MCQ Exam"))}," Exam ")),new Date(e.end_time).getTime()<d.value?(s(),y(p,{key:2,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",to:`/mission/solution/${e.id}?q=${e.question.substr(39,44)}`},{default:r(()=>[xe]),_:2},1032,["to"])):(s(),o("button",{key:3,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[1]||(a[1]=u=>m("MCQ Solve"))}," Solve ")),new Date(e.start_time).getTime()<d.value?(s(),y(p,{key:4,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",to:`/mission/leaderboard/${e.id}?q=${e.question.substr(39,44)}`},{default:r(()=>[_e]),_:2},1032,["to"])):(s(),o("button",{key:5,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[2]||(a[2]=u=>m("Leaderboard"))}," Leaderboard "))])]))),128))])):C("",!0),t("div",fe,[(s(!0),o($,null,T(b.value,(e,w)=>(s(),o("div",{class:"p-5 space-y-1 text-center border border-dotted dark:bg-white rounded-2xl bg-blue-50",key:w},[t("h2",ge,n(e.subject),1),t("h2",pe,n(e.chapter),1),t("p",he,n(e.topic),1),t("p",ye,n(e.instructor),1),be,t("p",ve,n(e.date_time),1),we,t("p",ke,"Exam Start: "+n(e.start_time),1),t("p",Ce,"Exam End: "+n(e.end_time),1),t("div",je,[new Date(e.start_time).getTime()<d.value?(s(),o("button",{key:0,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:u=>j(e.id,e.question.substr(39,44))}," Exam ",8,De)):(s(),o("button",{key:1,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[3]||(a[3]=u=>m("MCQ Exam"))}," Exam ")),new Date(e.end_time).getTime()<d.value?(s(),y(p,{key:2,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",to:`/mission/solution/${e.id}?q=${e.question.substr(39,44)}`},{default:r(()=>[Ee]),_:2},1032,["to"])):(s(),o("button",{key:3,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[4]||(a[4]=u=>m("MCQ Solve"))}," Solve ")),new Date(e.start_time).getTime()<d.value?(s(),y(p,{key:4,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",to:`/mission/leaderboard/${e.id}?q=${e.question.substr(39,44)}`},{default:r(()=>[$e]),_:2},1032,["to"])):(s(),o("button",{key:5,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[5]||(a[5]=u=>m("Leaderboard"))}," Leaderboard "))])]))),128))])])):v.value?(s(),o("div",Te,Ne)):(s(),o("div",Me,Ve)),l(_(U),{appear:"",show:f.value.show,as:"template"},{default:r(()=>[l(_(z),{as:"div",onClose:D},{default:r(()=>[t("div",Re,[t("div",Be,[l(_(S),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>[l(_(O),{class:"fixed inset-0"})]),_:1}),Qe,l(_(S),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:r(()=>[t("div",Ae,[l(_(P),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:r(()=>[h(n(f.value.title),1)]),_:1}),t("div",Fe,[t("p",Ie,n(f.value.message),1)]),t("div",{class:"mt-4"},[t("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:D}," Got it, thanks! ")])])]),_:1})])])]),_:1})]),_:1},8,["show"])])}}};export{He as default};
