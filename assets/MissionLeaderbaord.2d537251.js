import{_ as h}from"./lodash.99603cd4.js";import{_ as p,O as g,c as l,b as t,a as f,w as x,H as b,I as y,F as v,r as w,d as R,o as n,n as k,t as i,p as L,e as S}from"./index.12e7f315.js";import{_ as C}from"./Asset_2.286d657d.js";const M={data(){return{search:"",testResults:[],allresult:[],results:[]}},methods:{modeltestResults(){this.url="https://script.google.com/macros/s/AKfycbxHZMx1M1oGvp-wPb7mHwQrfkDBpkS3BG0WtciUJ_HHJTswLgJ2Ba4f8XBLNHOkjYEERQ/exec?sheet="+this.$route.query.q,fetch(this.url).then(e=>e.json()).then(e=>{let r=e;this.testResults=h.sortBy(r.map(s=>({...s,attempt:s.attempt||1,score:Number(s.score),duration:Number(s.duration)})),[s=>-s.score,"duration"]).map((s,u)=>({position:u+1,...s})),this.allresult=this.testResults})},millisToMinutesAndSeconds(e){var r=Math.floor(e/6e4),s=(e%6e4/1e3).toFixed(0);return r+":"+(s<10?"0":"")+s},searchResult(){this.testResults=this.allresult.filter(e=>{if(e.name.toLowerCase().includes(this.search.toLowerCase())||e.college.toLowerCase().includes(this.search.toLowerCase()))return e})},getStyle(e){return e==1?"success":e==2?"orange darken-2":e==3?"indigo":""},getborderStyle(e){let r={1:"s singleResult mb-2",2:"f singleResult mb-2",3:"d singleResult mb-2"};return r[e]?r[e]:"singleResult mb-2"}},created(){this.modeltestResults(),window.scrollTo(0,0)},computed:{user(){return g.state.user}}},c=e=>(L("data-v-67906af5"),e=e(),S(),e),B={class:"leaderboard"},H={class:"py-10"},N={class:"text-center"},I=c(()=>t("img",{src:C,alt:"",class:"mb-3 h-10 mx-auto"},null,-1)),T=c(()=>t("h1",{class:"my-4 text-3xl font-bold text-center text-gray-900 dark:text-white"},"MCQ Leaderboard",-1)),j={class:"p-5 mx-1 rounded md:w-1/2 md:mx-auto bg-gray-50"},D={class:"form-control"},A={class:"mt-4"},E={key:0},F=["id"],J={class:"flex items-center justify-center w-10 h-10 font-semibold text-white rounded-full bg-gradient-to-t from-indigo-400 to-indigo-600"},Q={class:"flex-1 ml-2 text-gray-900 md:ml-4"},V={class:"text-lg font-semibold"},q={class:"text-sm text-gray-500"},G={class:"p-2 text-gray-900 border-2 border-blue-400"},K={key:1,class:"text-center"},O=c(()=>t("button",{class:"btn loader btn-primary"},"Loading...",-1)),U=[O];function z(e,r,s,u,a,d){const _=R("router-link");return n(),l("div",B,[t("div",H,[t("div",N,[f(_,{to:"/",class:"text-center text-3xl text-white"},{default:x(()=>[I]),_:1})]),T,t("div",j,[t("div",D,[b(t("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>a.search=o),placeholder:"Search by Name/College",onKeyup:r[1]||(r[1]=(...o)=>d.searchResult&&d.searchResult(...o)),class:"input input-primary input-bordered"},null,544),[[y,a.search]])]),t("div",A,[a.allresult.length>0?(n(),l("div",E,[(n(!0),l(v,null,w(a.testResults,(o,m)=>(n(),l("div",{key:m,id:o.reg,class:k(`${d.getborderStyle(o.position)} flex justify-between items-center p-5   rounded  shadow-md ${o.reg=="9089"?"bg-green-200":""}`),style:{"scroll-margin":"100px"}},[t("span",J,i(o.position),1),t("div",Q,[t("h2",V,i(o.name),1),t("p",null,i(o.college),1),t("p",q," Duration: "+i(d.millisToMinutesAndSeconds(o.duration))+" minutes ",1)]),t("div",G,i(o.score),1)],10,F))),128))])):(n(),l("div",K,U))])])])])}const Y=p(M,[["render",z],["__scopeId","data-v-67906af5"]]);export{Y as default};
