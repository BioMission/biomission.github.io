import{_ as P}from"./Asset_2.286d657d.js";import{_ as V}from"./lodash.9f9023c3.js";import{T as $}from"./Timer.a02ef39c.js";import{i as r,j as A,c as l,b as t,a as u,w as m,F as b,g as j,k as D,u as _,n as R,t as n,m as G,r as O,o as s,h as T,f as w,l as W}from"./index.81b71631.js";import{f as H,N as I,o as q,V as J,U as K}from"./transition.a3bd9170.js";const X={class:"min-h-screen"},Y={class:"text-center py-5"},Z=t("img",{src:P,alt:"",class:"mb-3 h-10 mx-auto"},null,-1),ee=t("h1",{class:"text-center text-3xl text-white"},"Cycle",-1),te={key:0,class:"container py-5 mx-auto"},se={key:0,class:"max-w-2xl mx-auto space-y-3 mb-5"},ae={class:"text-xl font-bold text-gray-800"},le={class:"text-xl font-bold text-gray-800"},ne={key:0,class:"text-lg font-bold text-gray-800"},oe={class:"font-semibold text-gray-600"},ie={class:"font-semibold text-gray-600"},re={class:"font-semibold text-gray-600"},ce={class:"py-3"},de={key:0,class:"flex flex-col justify-center space-x-2"},ue=t("p",{class:"text-sm font-semibold text-gray-800 text-center"}," Exam Start Time Remaining ",-1),me={key:1,class:"flex flex-col justify-center space-x-2 text-gray-800"},xe=t("p",{class:"text-sm font-semibold text-gray-800 text-center"}," Exam End Time Remaining",-1),ge={key:2,class:"flex flex-col justify-center space-x-2"},_e=t("p",{class:"text-sm font-semibold text-center"}," Class Time Remaining",-1),pe={class:"space-x-4 space-y-2 sm:space-y-0"},fe=["onClick"],he=w(" Solve "),ye=w(" Leaderboard "),ve={class:"text-center font-semibold border-b py-2 text-white"},be={class:"space-y-2"},we=["onClick"],ke={key:2,class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 mt-5"},Ce={class:"text-xl font-bold text-gray-800"},je={class:"text-lg font-bold text-gray-800"},De={class:"font-semibold text-gray-600"},Te={class:"font-semibold text-gray-600"},Ee=t("p",{class:"font-semibold text-gray-700"},"Class",-1),$e={class:"font-semibold text-gray-600"},Se=t("p",{class:"font-semibold text-gray-700"},"Exam",-1),Me={class:"font-semibold text-gray-600 pb-3"},Qe={class:"flex flex-wrap items-center justify-center gap-3"},Ne=["onClick"],Le=w("MCQ Solve "),Ve=w(" MCQ Leaderboard "),Ae={key:1,class:"py-10 text-center"},Re=t("button",{class:"btn btn-circle loading btn-xl"},null,-1),qe=t("p",{class:"dark:text-white"},"Please wait...",-1),Be=[Re,qe],Fe={key:2},Ue=t("div",{class:"flex flex-col items-center justify-center"},[t("div",{class:"text-center"},[t("h1",{class:"text-3xl text-gray-500"},"No Class"),t("p",{class:"text-gray-500"},"No Class is available for this course")])],-1),ze=[Ue],Pe={class:"fixed inset-0 z-10 overflow-y-auto"},Ge={class:"min-h-screen px-4 text-center bg-[rgba(0,0,0,0.6)]"},Oe=t("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),We={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},He={class:"mt-2"},Ie={class:"text-sm text-gray-500"},Je={key:0,class:"lg:sticky bottom-0 md:px-20 px-5 py-2 gap-4 items-center bg-gray-700/70 backdrop-blur-sm text-gray-50 shadow border-t border-gray-600 flex flex-col md:flex-row justify-center md:justify-between"},Ke=["href"],at={__name:"Exams",setup(Xe){const S=W(),p=G();r(!1);const h=r([]),B=r([]),M=r(p.query.subject),Q=r(p.query.chapter);r("");const F=r({}),y=r({show:!1,title:"",message:""}),N=i=>{S.push(`/exam/${i}`)};function f(i){y.value={show:!0,title:`${i} will be available soon`,message:`We are working on ${i}. Please check back later.`}}function L(){y.value={show:!1,title:"",message:""}}const d=r([]),v=r([]),k=r([]),E=r(!0),C=r(null);A("tagline").then(i=>{C.value=i.routines[0]}),A("allexams").then(i=>{d.value=i.routines.filter(a=>a.chapter),p.params.batch&&p.params.batch!=="All"&&(d.value=d.value.filter(a=>a.batch===p.params.batch||a.batch==="All")),v.value.length<3&&d.value.forEach(a=>{new Date(a.end_time).getTime()>=Date.now()&&v.value.length<2&&v.value.push({...a,date:new Date(a.date_time).getTime()})}),d.value.reverse(),h.value=[...new Set(d.value.map(a=>a.subject))],h.value=h.value.map(a=>({name:a,chapters:[...new Set(d.value.filter(c=>c.subject===a).map(c=>c.chapter))]})),U(),E.value=!1});const U=()=>{k.value=V.filter(d.value,V.conforms(F.value)),B.value=new Set(k.value.map(i=>i.chapter))},z=(i,a)=>{M.value=i,Q.value=a,S.push({query:{subject:i,chapter:a}}),k.value=d.value.filter(c=>c.subject===M.value&&c.chapter===Q.value)},o=r(Date.now());return(i,a)=>{const c=O("router-link");return s(),l(b,null,[t("div",X,[t("div",Y,[u(c,{to:"/",class:"text-center text-3xl text-white"},{default:m(()=>[Z]),_:1}),ee]),d.value.length>0&&!E.value?(s(),l("div",te,[v.value.length>0?(s(),l("div",se,[(s(!0),l(b,null,j(v.value,(e,g)=>(s(),l("div",{class:"p-5 space-y-1 text-center border border-dashed shadow dark:bg-white rounded-xl bg-gray-50",key:g},[t("h1",{class:R(["text-2xl font-semibold text-center",{"text-red-500 animate-pulse":new Date(e.start_time).getTime()<o.value&&new Date(e.end_time).getTime()>o.value,"text-green-500":new Date(e.start_time).getTime()>o.value}])},n(new Date(e.start_time).getTime()<o.value&&new Date(e.end_time).getTime()>o.value?"On going...":"Upcoming Class"),3),t("h2",ae,n(e.subject),1),t("h2",le,n(e.chapter),1),e.topic?(s(),l("h2",ne,n(e.topic),1)):D("",!0),t("p",oe,"Exam Start: "+n(e.start_time),1),t("p",ie,"Exam End: "+n(e.end_time),1),t("p",re,n(e.instructor),1),t("div",ce,[new Date(e.start_time).getTime()>o.value?(s(),l("div",de,[ue,u($,{end:new Date(e.start_time)},null,8,["end"])])):new Date(e.end_time)>new Date(o.value)?(s(),l("div",me,[xe,u($,{end:new Date(e.end_time)},null,8,["end"])])):new Date(e.date_time)>new Date(o.value)?(s(),l("div",ge,[_e,u($,{end:new Date(e.date_time)},null,8,["end"])])):D("",!0)]),t("div",pe,[new Date(e.start_time).getTime()<o.value?(s(),l("button",{key:0,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:x=>N(e.id)}," Exam ",8,fe)):(s(),l("button",{key:1,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[0]||(a[0]=x=>f("MCQ Exam"))}," Exam ")),new Date(e.end_time).getTime()<o.value?(s(),T(c,{key:2,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",to:`/solution/${e.id}`},{default:m(()=>[he]),_:2},1032,["to"])):(s(),l("button",{key:3,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[1]||(a[1]=x=>f("MCQ Solve"))}," Solve ")),new Date(e.start_time).getTime()<o.value?(s(),T(c,{key:4,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",to:`/ranking/${e.id}`},{default:m(()=>[ye]),_:2},1032,["to"])):(s(),l("button",{key:5,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800",onClick:a[2]||(a[2]=x=>f("Leaderboard"))}," Leaderboard "))])]))),128))])):D("",!0),_(p).query.chapter?(s(),l("div",ke,[(s(!0),l(b,null,j(k.value,(e,g)=>(s(),l("div",{class:"p-5 space-y-1 text-center border border-dotted dark:bg-white rounded-2xl bg-blue-50",key:g},[t("h2",Ce,n(e.subject),1),t("h2",je,n(e.chapter),1),t("p",De,n(e.topic),1),t("p",Te,n(e.instructor),1),Ee,t("p",$e,n(e.date_time),1),Se,t("p",Me,n(e.start_time),1),t("div",Qe,[new Date(e.start_time).getTime()<o.value?(s(),l("button",{key:0,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800 text-xs",onClick:x=>N(e.id)}," MCQ Exam ",8,Ne)):(s(),l("button",{key:1,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800 text-xs",onClick:a[3]||(a[3]=x=>f("MCQ Exam"))}," MCQ Exam ")),new Date(e.end_time).getTime()<o.value?(s(),T(c,{key:2,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800 text-xs",to:`/solution/${e.id}`},{default:m(()=>[Le]),_:2},1032,["to"])):(s(),l("button",{key:3,class:"inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800 text-xs",onClick:a[4]||(a[4]=x=>f("MCQ Solve"))}," MCQ Solve ")),new Date(e.start_time).getTime()<o.value?(s(),T(c,{key:4,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800 text-xs",to:`/ranking/${e.id}`},{default:m(()=>[Ve]),_:2},1032,["to"])):(s(),l("button",{key:5,class:"mx-2 inline-flex items-center justify-center gap-1 p-2 text-white rounded-full bg-gray-800 text-xs",onClick:a[5]||(a[5]=x=>f("Leaderboard"))}," MCQ Leaderboard "))])]))),128))])):(s(),l("div",{key:1,class:R(["gap-4 max-w-xl mx-auto grid grid-cols-1",{" md:grid-cols-2":h.value.length>1}])},[(s(!0),l(b,null,j(h.value,e=>(s(),l("div",{class:"space-y-2 border p-2",key:e.name},[t("p",ve,n(e.name),1),t("div",be,[(s(!0),l(b,null,j(e.chapters,g=>(s(),l("div",{key:g,onClick:x=>z(e.name,g),class:"text-center py-2 border rounded-lg border-white text-white bg-gray-900 cursor-pointer hover:bg-white hover:text-black"},n(g),9,we))),128))])]))),128))],2))])):E.value?(s(),l("div",Ae,Be)):(s(),l("div",Fe,ze)),u(_(H),{appear:"",show:y.value.show,as:"template"},{default:m(()=>[u(_(I),{as:"div",onClose:L},{default:m(()=>[t("div",Pe,[t("div",Ge,[u(_(q),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:m(()=>[u(_(J),{class:"fixed inset-0"})]),_:1}),Oe,u(_(q),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:m(()=>[t("div",We,[u(_(K),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:m(()=>[w(n(y.value.title),1)]),_:1}),t("div",He,[t("p",Ie,n(y.value.message),1)]),t("div",{class:"mt-4"},[t("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:L}," Got it, thanks! ")])])]),_:1})])])]),_:1})]),_:1},8,["show"])]),C.value?(s(),l("div",Je,[t("p",null,n(C.value.title),1),t("a",{href:C.value.link,target:"_blank",class:"bg-blue-500 p-2 rounded-md"}," \u09AC\u09BF\u09B8\u09CD\u09A4\u09BE\u09B0\u09BF\u09A4 \u098F\u0996\u09BE\u09A8\u09C7 ",8,Ke)])):D("",!0)],64)}}};export{at as default};
