import{_ as T,j as L,P as C,O as M,c as r,b as s,a as k,w as v,k as i,f as x,t as c,h as S,F as p,g as f,r as w,o,n as m,p as H,e as D}from"./index.ccd99731.js";import{_ as N}from"./Asset_2.286d657d.js";const A={data(){return{timing:null,solutionv:!1,retake:!1,questions:[],solution:[],result:[],unknown:!1,loading:!0,eload:!1,minute:0,second:0,end:Date.now()+12e6,show:!1,url:"",solutionpdf:"",starttime:Date.now(),ended:null,inttime:109090,immediate:!0,viewDetails:!1,score:null,status:{Correct:0,Wrong:0,Not_Answered:0}}},beforeRouteEnter(h,n,u){var t;if((t=JSON.parse(localStorage.getItem("biomission")))==null?void 0:t.roll){u();return}u({path:"/login"})},methods:{endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){this.loading=!0;let h=null;this.$route.query.type,L("biomission3",this.$route.params.id).then(n=>{if(new Date(n.exam.start_time).getTime()>Date.now()){this.$router.push("/");return}this.url="https://script.google.com/macros/s/AKfycbz9OmMxzknSGJ96kpT8vuatKAxa2BLJ6qnC-fsCufUkeiSymRniQAs4OFTiHY8lQ3zZ1Q/exec?sheet="+n.exam.question.substr(39,44),this.ended=new Date(n.exam.end_time).getTime(),this.timelimit=n.exam.timelimit*6e4,this.immediate=!n.exam.special,this.solutionpdf=n.exam.solve_sheet,h=n.exam.time;let u=JSON.parse(localStorage.getItem("biomission")).roll;fetch(this.url+"&type=check&phone="+u).then(g=>g.json()).then(g=>{g.message=="exists"||this.ended<Date.now()?(this.result=g.result?g.result:["","Time's up"],fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{this.solution=t;let l=h;this.inttime=l*6e4,this.end=l*6e4}),this.unknown=!1,this.loading=!1):(this.unknown=!0,fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{let l=localStorage.getItem(`attempt${this.$route.params.id}`);l?localStorage.setItem(`attempt${this.$route.params.id}`,Number(l)+1):localStorage.setItem(`attempt${this.$route.params.id}`,1),this.questions=t.map(b=>({...b,selected:""})),this.questions=this.questions.sort(()=>Math.random()-.5),this.$route.query.q&&(this.questions=this.questions.slice(0,parseInt(this.$route.query.q)));let d=h;this.inttime=d*6e4,this.end=d*6e4,this.loading=!1,this.showRemaining(this.end+Date.now()),this.autoSubmit()}))})})},startRetake(){this.retake=!0,this.showRemaining(Date.now()+this.end)},retakeResult(){let h=this.solution.reduce((n,u)=>(u.correct==u.selected?(n+=1,this.status.Correct+=1):u.selected?(n-=.25,this.status.Wrong+=1):this.status.Not_Answered+=1,n),0);this.$swal({icon:"success",title:"Success",text:`You Scored ${h}, Correct ${this.status.Correct} Wrong ${this.status.Wrong} Not Answered ${this.status.Not_Answered}`}).then(()=>{this.retake=!1,this.show=!1,this.questions=this.solution,this.viewDetails=!this.viewDetails,this.inttime=this.solution.length,this.score=h,this.solution=this.solution.map(n=>({...n,selected:""})),window.scroll(0,0)})},submitAns(){let h=Date.now()-this.starttime;this.eload=!0;let n=this.questions.reduce((d,b)=>(b.correct==b.selected?(d+=1,this.status.Correct+=1):b.selected?(d-=.25,this.status.Wrong+=1):this.status.Not_Answered+=1,d),0);clearTimeout(this.timing);let{roll:u,name:g,college:t}=JSON.parse(localStorage.getItem("biomission")),l=this.questions.map((d,b)=>{let a=[d.a,d.b,d.c,d.d].indexOf(d.selected);return{id:b,s:a}}).filter(d=>d.s>-1);fetch(this.url,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify({roll:u,name:g,attempt:localStorage.getItem(`attempt${this.$route.params.id}`)||1,score:n,college:t,duration:h,submission:JSON.stringify(l)})}).then(()=>{clearTimeout(this.timing),parseInt(this.$route.query.q||this.questions.length),this.$swal({icon:"success",title:"Successfully Submitted",text:`You Scored ${n}`}).then(()=>{localStorage.removeItem(`attempt${this.$route.params.id}`),this.viewDetails=!0,this.show=!1,this.score=n,window.scroll(0,0)})})},gotoLeaderboard(){this.$router.replace(`/ranking/${this.$route.params.id}`)},autoSubmit(){this.timing=setTimeout(()=>{this.show=!1,this.submitAns()},this.inttime)},showRemaining(h){this.show=!0;const n=setInterval(()=>{const u=h-Date.now();if(u<0){clearInterval(n);return}const g=Math.floor(u/this._days),t=Math.floor(u%this._days/this._hours),l=Math.floor(u%this._hours/this._minutes),d=Math.floor(u%this._minutes/this._seconds);this.second=d<10?"0"+d:d,this.minute=l<10?"0"+l:l,this.hours=t<10?"0"+t:t,this.days=g<10?"0"+g:g},1e3)}},created(){this.getQuestionLink(),window.scrollTo(0,0)},computed:{...C(["user"]),_seconds:()=>1e3,_minutes(){return this._seconds*60},_hours(){return this._minutes*60},_days(){return this._hours*24},currentTime:()=>M.state.currentTime}},y=h=>(H("data-v-77f1ec30"),h=h(),D(),h),I={class:"text-center py-5"},R=y(()=>s("img",{src:N,alt:"",class:"mb-3 h-10 mx-auto"},null,-1)),O=y(()=>s("h1",{class:"text-center text-3xl text-white"},"3.0",-1)),Q={key:0,class:"py-5 mx-auto mt-5 rounded bg-white md:w-2/3"},j={class:"py-3 text-center"},W={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},B={key:0},J={key:1,class:"text-center text-gray-900"},V={class:"py-5"},Y=x(" View Solution "),z={key:0,class:"my-5 text-center"},E={key:1,class:"text-center"},F={key:2,class:"text-center"},K=y(()=>s("button",{class:"btn loading btn-circle"},null,-1)),P=[K],G={key:3,class:"my-4 font-semibold text-center text-gray-900"},U={key:1,class:"pb-10"},Z={class:"py-4 text-center"},X={class:"text-2xl font-bold text-gray-900"},$=y(()=>s("p",{class:"text-center"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),q={class:"mx-2 text-gray-900 md:w-2/3 md:mx-auto"},ee=["innerHTML"],te={class:"btn btn-sm"},se={class:"mt-3"},oe=["innerHTML","onClick"],re=["innerHTML","onClick"],ne=["innerHTML","onClick"],ie=["innerHTML","onClick"],le={class:"mb-10 text-center"},de={key:2,class:"pb-10"},ae={class:"py-4 text-center"},ce={class:"text-2xl font-bold"},ue=y(()=>s("p",{class:"text-center"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),he={key:0,class:"mx-2 md:w-2/3 md:mx-auto stop_copy"},me=["innerHTML"],ge=x(),be={class:"btn btn-sm"},_e={class:"mt-3"},ye=["innerHTML","onClick"],xe=["innerHTML","onClick"],pe=["innerHTML","onClick"],ke=["innerHTML","onClick"],fe={key:0,class:"my-2 text-center"},ve={key:1,class:"mb-10 text-center"},we=["disabled"],Te={key:1,class:"mx-2 md:w-2/3 md:mx-auto"},Le={class:"flex flex-wrap justify-center"},Ce={class:"w-full p-3 md:w-1/2"},Me={class:"text-center"},Se={class:"text-lg font-semibold text-gray-900 dark:text-white"},He={class:"text-gray-600 dark:text-white"},De={class:"flex flex-wrap items-center justify-center gap-3 p-3 rounded bg-white"},Ne={class:"text-gray-900"},Ae={class:"text-lg font-bold"},Ie={class:"text-lg font-bold"},Re={class:"text-lg font-bold"},Oe={class:"text-lg font-bold"},Qe=["innerHTML"],je={class:"mt-3"},We=["innerHTML"],Be=["innerHTML"],Je=["innerHTML"],Ve=["innerHTML"],Ye={key:0,class:"my-2 poppins"},ze=["innerHTML"],Ee={class:"material-icons"},Fe={key:0,class:"my-2 text-center"},Ke={key:1,class:"mb-10 text-center"},Pe=["disabled"],Ge={key:3,class:"white--text fixed__timer"},Ue={class:"text-white bg-blue-500 border border-white shadow"},Ze={key:1,class:"flex items-center justify-center w-full h-screen"},Xe=y(()=>s("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[s("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),s("div",{class:"text-lg dark:text-white"},"Loading ...")],-1)),$e=[Xe];function qe(h,n,u,g,t,l){const d=w("router-link"),b=w("pie-chart");return o(),r("div",null,[s("div",I,[k(d,{to:"/",class:"text-center text-3xl text-white"},{default:v(()=>[R]),_:1}),O]),t.loading?(o(),r("div",Ze,$e)):(o(),r("div",{key:0,onContextmenu:e=>!1},[!t.unknown&&!t.loading&&!t.retake?(o(),r("div",Q,[s("div",j,[t.result[1]?(o(),r("h2",W,[t.result[1]!=="Time's up"?(o(),r("span",B,"You Scored:")):i("",!0),x(" "+c(t.result[1]),1)])):i("",!0),t.result[1]=="Time's up"?(o(),r("p",J,"But you can still give the exam. Click 'Test yourself again'.")):i("",!0),s("div",V,[this.ended<l.currentTime||t.immediate?(o(),S(d,{key:0,to:`/solution/${this.$route.params.id}`,class:"my-2 btn btn-primary"},{default:v(()=>[Y]),_:1},8,["to"])):(o(),r("button",{key:1,class:"btn btn-primary",onClick:n[0]||(n[0]=(...e)=>l.endalert&&l.endalert(...e)),textContent:"View Solution"}))])]),!t.retake&&t.solution.length>0?(o(),r("div",z,[k(d,{to:`/ranking/${this.$route.params.id}`,class:"mx-auto my-2 btn btn-primary",text:"View Your Rank"},null,8,["to"])])):i("",!0),!t.retake&&t.solution.length>0?(o(),r("div",E,[s("button",{class:"mx-auto btn btn-primary",onClick:n[1]||(n[1]=(...e)=>l.startRetake&&l.startRetake(...e)),textContent:"Test Yourself Again"})])):(o(),r("div",F,P)),!t.retake&&t.solution.length>0?(o(),r("div",G," Retake exam score will not be recorded ")):i("",!0)])):i("",!0),t.retake?(o(),r("div",U,[s("div",Z,[s("h1",X," Retake Exam - "+c(this.$route.params.id),1),$]),s("div",q,[(o(!0),r(p,null,f(t.solution,(e,a)=>(o(),r("div",{key:a,class:m(["p-5 mx-auto my-3 text-lg text-gray-900 border border-gray-300 rounded-md shadow-lg bg-white kalpurush",{"stop-events":t.solution[a].selected}])},[s("div",{class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,ee),s("span",te,"Q No. "+c(a+1),1),s("div",se,[e.a?(o(),r("div",{key:0,innerHTML:e.a,onClick:_=>t.solution[a].selected=e.a,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,oe)):i("",!0),e.b?(o(),r("div",{key:1,innerHTML:e.b,onClick:_=>t.solution[a].selected=e.b,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,re)):i("",!0),e.c?(o(),r("div",{key:2,innerHTML:e.c,onClick:_=>t.solution[a].selected=e.c,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ne)):i("",!0),e.d?(o(),r("div",{key:3,innerHTML:e.d,onClick:_=>t.solution[a].selected=e.d,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ie)):i("",!0)])],2))),128)),s("div",le,[s("button",{onClick:n[2]||(n[2]=(...e)=>l.retakeResult&&l.retakeResult(...e)),class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"}," Submit ")])])])):i("",!0),t.questions.length>0?(o(),r("div",de,[s("div",ae,[s("h1",ce," Exam - "+c(this.$route.params.id),1),ue]),t.viewDetails?(o(),r("div",Te,[s("div",null,[s("div",Le,[s("div",Ce,[s("div",Me,[s("h3",Se," You Scored: "+c(t.score),1),s("p",He," out of "+c(t.questions.length),1)])])])]),s("div",null,[s("div",De,[s("div",null,[k(b,{data:t.status},null,8,["data"])]),s("div",Ne,[s("p",Ae," Total: "+c(t.questions.length),1),s("p",Ie," Correct: "+c(t.status.Correct),1),s("p",Re," Incorrect: "+c(t.status.Wrong),1),s("p",Oe," Not Answered: "+c(t.status.Not_Answered),1)])])]),(o(!0),r(p,null,f(t.questions,(e,a)=>(o(),r("div",{key:a,class:"p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg stop_copy bg-white dark:bg-black dark:text-white kalpurush"},[s("div",{class:"inline-flex mb-2 text-lg font-semibold",innerHTML:`<span class='mr-2'>${a+1})</span>`+e.question},null,8,Qe),s("div",je,[e.a?(o(),r("div",{key:0,innerHTML:e.a,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.a==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,We)):i("",!0),e.b?(o(),r("div",{key:1,innerHTML:e.b,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.b==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Be)):i("",!0),e.c?(o(),r("div",{key:2,innerHTML:e.c,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.c==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Je)):i("",!0),e.d?(o(),r("div",{key:3,innerHTML:e.d,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.d==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Ve)):i("",!0)]),e.explain?(o(),r("h2",Ye,"Explain:")):i("",!0),e.explain?(o(),r("div",{key:1,class:"p-3 my-3 bg-gray-200 border border-green-500 rounded dark:bg-gray-600",innerHTML:e.explain},null,8,ze)):i("",!0),s("div",{class:m(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[s("span",Ee,c(e.correct==e.selected?"done":"close"),1),e.selected?(o(),r(p,{key:0},[x(c(e.correct==e.selected?"Correct":"Wrong"),1)],64)):i("",!0),x(" "+c(e.selected?"":"Not answered"),1)],2)]))),128)),t.viewDetails?(o(),r("div",Fe,[s("button",{onClick:n[5]||(n[5]=(...e)=>l.gotoLeaderboard&&l.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):i("",!0),t.viewDetails?i("",!0):(o(),r("div",Ke,[s("button",{onClick:n[6]||(n[6]=(...e)=>l.submitAns&&l.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},c(t.eload?"Loading...":"Submit"),9,Pe)]))])):(o(),r("div",he,[(o(!0),r(p,null,f(t.questions,(e,a)=>(o(),r("div",{key:a,class:m(["p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg bg-white kalpurush",{"stop-events":t.questions[a].selected}])},[s("div",{class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,me),ge,s("span",be,"Q No. "+c(a+1),1),s("div",_e,[e.a?(o(),r("div",{key:0,innerHTML:e.a,onClick:_=>t.questions[a].selected=e.a,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,ye)):i("",!0),e.b?(o(),r("div",{key:1,innerHTML:e.b,onClick:_=>t.questions[a].selected=e.b,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,xe)):i("",!0),e.c?(o(),r("div",{key:2,innerHTML:e.c,onClick:_=>t.questions[a].selected=e.c,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,pe)):i("",!0),e.d?(o(),r("div",{key:3,innerHTML:e.d,onClick:_=>t.questions[a].selected=e.d,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,ke)):i("",!0)])],2))),128)),t.viewDetails?(o(),r("div",fe,[s("button",{onClick:n[3]||(n[3]=(...e)=>l.gotoLeaderboard&&l.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):i("",!0),t.viewDetails?i("",!0):(o(),r("div",ve,[s("button",{onClick:n[4]||(n[4]=(...e)=>l.submitAns&&l.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},c(t.eload?"Loading...":"Submit"),9,we)]))]))])):i("",!0),t.show?(o(),r("div",Ge,[s("div",Ue,c(t.minute)+" : "+c(t.second),1)])):i("",!0)],32))])}const st=T(A,[["render",qe],["__scopeId","data-v-77f1ec30"]]);export{st as default};
